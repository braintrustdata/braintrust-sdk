name: OpenAI

tests:
  - name: completions
    vendor: OpenAI
    endpoint: completions
    request:
      model: gpt-4o-mini
      messages:
        - role: system
          content: "you are a helpful assistant"
        - role: user
          content: "What is the capital of France?"
    braintrust_span:
      metrics:
        time_to_first_token: "regex:[0-9]+.[0-9]+"
        tokens: "regex:[0-9]+"
        prompt_tokens: "regex:[0-9]+"
        completion_tokens: "regex:[0-9]+"
      metadata:
        model: gpt-4o-mini
        provider: openai
      span_attributes:
        name: "Chat Completion"
        type: "llm"
      input:
        - content: "you are a helpful assistant"
          role: system
        - content: "What is the capital of France?"
          role: user
      output:
        - finish_reason: stop
          index: 0
          message:
            role: assistant
            content: "The capital of France is Paris."
